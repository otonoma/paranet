<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-paraflow/top-level" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Top Level | Paranet Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.paranet.ai/paranet/img/paranet_logo.svg"><meta data-rh="true" name="twitter:image" content="https://docs.paranet.ai/paranet/img/paranet_logo.svg"><meta data-rh="true" property="og:url" content="https://docs.paranet.ai/paranet/paraflow/top-level"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Top Level | Paranet Documentation"><meta data-rh="true" name="description" content="Events"><meta data-rh="true" property="og:description" content="Events"><link data-rh="true" rel="icon" href="/paranet/img/paranet_favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.paranet.ai/paranet/paraflow/top-level"><link data-rh="true" rel="alternate" href="https://docs.paranet.ai/paranet/paraflow/top-level" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.paranet.ai/paranet/paraflow/top-level" hreflang="x-default"><link rel="stylesheet" href="/paranet/assets/css/styles.b116edeb.css">
<script src="/paranet/assets/js/runtime~main.326bfcde.js" defer="defer"></script>
<script src="/paranet/assets/js/main.57b2e3ce.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/paranet/"><div class="navbar__logo"><img src="/paranet/img/paranet_logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/paranet/img/paranet_logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href="/paranet/getting_started">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/paranet/paraflow">Paraflow</a><a class="navbar__item navbar__link" href="/paranet/developer_tools">Developer Tools</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/paranet/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/paranet/getting_started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/paranet/paraflow">Paraflow</a><button aria-label="Collapse sidebar category &#x27;Paraflow&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/hello-world">Hello World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/language-basics">Language Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/paranet/paraflow/top-level">Top Level</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/variables">Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/control_flow">Control Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/tables">Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/bindings">Bindings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/runtime_internals">Runtime Internals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/paranet/paraflow/debugging">Debugger</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/paranet/developer_tools">Developer Tools</a><button aria-label="Expand sidebar category &#x27;Developer Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/paranet/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/paranet/paraflow"><span itemprop="name">Paraflow</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Top Level</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Top Level</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h2>
<p>Events describe what to do when some external event occurs from the environment. The event declaration has a list of parameters that are expected for the event and a statement body that is executed when the event is triggered.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;event&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;event&quot; [ &lt;system-event&gt; ] &lt;identifier&gt; &lt;parameter-list&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;event-stmt-block&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For example,</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">event newRequest($uid string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  !StartRequest($id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h2>
<p>The parameter list is a comma-separated list of parameter definitions, which include the name and type of the parameter.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;parameter-list&gt; := &quot;(&quot; &lt;parameter&gt; { &quot;,&quot; &lt;parameter&gt; } &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;parameter&gt; := &lt;$identifier&gt; [ &quot;optional&quot; ] &lt;parameter-type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;parameter-type&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;simple-type&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;table-type&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;json&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;simple-type&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;int&quot; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;double&quot; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;string&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When an event is received, the event data is matched against the parameter list of the event declaration. It is an error if the event data does not include any parameter, or if the value is null unless the parameter is declared with the <code>optional</code> keyword.</p>
<p>Parameters declared as type <code>json</code> will match any scalar or object value; however, the parameter value will be assigned the string representation of that value. Where appropriate, the parameter may be used with the <code>ParseJson</code> function. See the Objects section for details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-parameters">Table Parameters<a href="#table-parameters" class="hash-link" aria-label="Direct link to Table Parameters" title="Direct link to Table Parameters">​</a></h3>
<p>Event parameters declared as tables will match event data represented as an array of objects.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;table-type&gt; := &quot;table&quot; &quot;(&quot; &lt;table-column&gt; { &quot;,&quot; &lt;table-column&gt; } &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;table-column&gt; := &lt;identifier&gt; [ &quot;optional&quot; ] &lt;simple-type&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each element of the event data array must match the table column definitions. It is an error if any element does not include any column or if the value is null unless the column is declared with the <code>optional</code> keyword.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="event-body">Event Body<a href="#event-body" class="hash-link" aria-label="Direct link to Event Body" title="Direct link to Event Body">​</a></h2>
<p>The event body consists of a list of statements.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;event-stmt-block&gt; := &quot;{&quot; &lt;event-statement&gt; { &lt;event-statement&gt; } &quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;event-statement&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;let-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;procedure-call&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;if-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;with-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;loop-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;transaction-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;update-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;new-goal-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;update-goal-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;return-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;audit-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;log-statement&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="skill-decorators">Skill Decorators<a href="#skill-decorators" class="hash-link" aria-label="Direct link to Skill Decorators" title="Direct link to Skill Decorators">​</a></h2>
<p>Events preceded by a skill decoration correspond to a Paranet skill provided by the Paraflow program. The descriptor defines the subject and action of the implemented skill.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%skill(subject=messaging, action=send)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">event newSendMessage($message string, $conversation string, $requester string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⋮</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The skill decoration does two things:</p>
<ul>
<li>The Paraflow code is registered as a provider of the skill on the Paranet.</li>
<li>The Paraflow event is registered as the callback that is invoked whenever a new request is matched to this program.</li>
</ul>
<p>The <code>conversation</code> and <code>requester</code> parameters are predefined and assigned the unique conversation ID and requesting actor ID of the corresponding skill request. All other event parameters are registered as inputs for the skill.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rules">Rules<a href="#rules" class="hash-link" aria-label="Direct link to Rules" title="Direct link to Rules">​</a></h2>
<p>Rules describe how a goal can be achieved by decomposition into subgoals. The rule declaration has a goal pattern that describes what goals the rule can be applied to and a rule body that describes how to achieve that goal in terms of subgoals.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;rule&gt; := &quot;rule&quot; &lt;goal-pattern&gt; &lt;rule-body&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For example,</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rule !DoAthenB($id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  !DoA($id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  !DoB($id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Rules may depend on data, but cannot change or create new data. Although subgoals may have data and time-order dependencies, the rule expansion into subgoals happens at once.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="goal-pattern">Goal Pattern<a href="#goal-pattern" class="hash-link" aria-label="Direct link to Goal Pattern" title="Direct link to Goal Pattern">​</a></h3>
<p>The goal pattern describes:</p>
<ul>
<li>The goals to which it can be applied,</li>
<li>Zero or more constraint conditions, and</li>
<li>The data context captured for use in the rule body</li>
</ul>
<p>Goal patterns have the form:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;goal-pattern&gt; := &lt;goal-term&gt; { &quot;,&quot; &lt;goal-term&gt; | &lt;data-term&gt; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;goal-term&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;goal&gt; &quot;(&quot; &lt;pattern-binding&gt; {&quot;,&quot; &lt;pattern-binding&gt;} &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;data-term&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;table-name&gt; &quot;(&quot; &lt;pattern-binding&gt; {&quot;,&quot; &lt;pattern-binding&gt;} &quot;)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For example,</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!processOrder($id), order(id == $id, agent == &quot;ext&quot;, $email)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This head matches <code>!processOrder</code> goals if there exists a row in the order table where the <code>id</code> column is equal to the goal’s <code>$id</code> parameter and the <code>agent</code> column is equal to &quot;ext&quot;. Further, it captures the value of the <code>email</code> column of that row in a local variable <code>$email</code> that can be used within the rule body.</p>
<p>The pattern binding syntax is described in detail in the Binding section.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rule-body">Rule Body<a href="#rule-body" class="hash-link" aria-label="Direct link to Rule Body" title="Direct link to Rule Body">​</a></h3>
<p>The rule body contains one or more statements that are executed to generate the subgoals that need to be achieved in order to achieve the matched head goal. The head goal is complete when all the generated subgoals are complete. If any subgoal fails, then the head goal fails.</p>
<p>The principal statement of the rule body is the goal statement, which consists of a single goal expression:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;goal-statement&gt; := &lt;goal-sequence&gt; {&quot;,&quot; &lt;goal-sequence&gt;} &quot;;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;goal-sequence&gt; := &lt;goal-primary&gt; {&quot;++&quot; &lt;goal-primary&gt;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;goal-primary&gt; := &lt;goal-instance&gt; | &lt;goal-enablement&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;goal-instance&gt; := &lt;goal&gt; &lt;call-bindings&gt; [ &quot;?&quot; ] [ &lt;after-clause&gt; ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Goals instances separated by the <code>,</code> symbol have no ordering dependencies, and the planner will seek to achieve such instances independently and concurrently. Instances separated by <code>++</code> or in separate goal statements (separated by the semicolon) have an explicit ordering dependency, and the planner will not seek to achieve any such instance until all preceding instances are complete.</p>
<p>For example,</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!shipPO(id -&gt; $po), !invoicePO(id -&gt; $po);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This example creates two subgoals that have no ordering dependencies.</p>
<p>Other statements such as control flow and loops may also be used in rule bodies. The full list of allowed statements is:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;rule-stmt-block&gt; := &quot;{&quot; &lt;rule-statement&gt; { &lt;rule-statement&gt; } &quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;rule-statement&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;simple-let-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;goal-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;if-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;with-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;loop-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;log-statement&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="paraflow-tasks">Paraflow Tasks<a href="#paraflow-tasks" class="hash-link" aria-label="Direct link to Paraflow Tasks" title="Direct link to Paraflow Tasks">​</a></h2>
<p>One of two types of tasks, the Paraflow task describes how to achieve matching goals as code. Like rules, the task declaration has a goal pattern to describe what goals it applies to. Unlike rules, the task body describes how to achieve the goal procedurally. When the planner matches a specific goal instance to a task, the task body will be executed. The goal will be considered complete once the task body has been executed.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;paraflow-task&gt; : =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;task&quot; &lt;goal-pattern&gt; [ &lt;cost-clause&gt; ] [ &quot;on&quot; &lt;expression&gt; ] </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;task-stmt-block&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [ &lt;catch-block&gt; ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Goal patterns are described in detail in the Rules section. The task body consists of a list of statements to execute.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;task-stmt-block&gt; := &quot;{&quot; &lt;task-statement&gt; { &lt;task-statement&gt; } &quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;task-statement&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;let-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;rpc-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;procedure-call&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;pncp-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;if-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;with-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;loop-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;transaction-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;update-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;new-goal-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;update-goal-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;return-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;retry-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;audit-statement&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;log-statement&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-apis">Service APIs<a href="#service-apis" class="hash-link" aria-label="Direct link to Service APIs" title="Direct link to Service APIs">​</a></h2>
<p>A Paraflow task may be used to make calls to any external service that provides a GraphQL interface. The <code>on</code> clause of the Paraflow task declaration provides the default URL of the endpoint providing the GraphQL service. The endpoint may also be overridden in individual calls to the service via the <code>rpc</code> statements.</p>
<p>The following example illustrates how to call a GraphQL service from Paraflow.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">task !RegisterSeg($id) on &quot;graphql:http://localhost:8000/graphql&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let { $desc, $lat, $lon } = @getSegmentDetail($id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  insert segment($desc, $lat, $lon);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Most GraphQL requests will return data as an object, and this example demonstrates how that can be unpacked into local variables. For more detail about destructuring assignments see the Variables section.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pncp-task">PNCP Task<a href="#pncp-task" class="hash-link" aria-label="Direct link to PNCP Task" title="Direct link to PNCP Task">​</a></h2>
<p>One of two types of tasks, the PNCP task describes delegation of matching goals to the Paranet in the form of a new request.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;pncp-task&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;task&quot; &lt;goal-pattern&gt; [ &lt;cost-clause&gt; ] &lt;pncp-task-body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;pncp-task-body&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [ &lt;using-block&gt; ] &quot;is&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;pncp&quot; [ &quot;let&quot; &lt;object-lhs&gt; &quot;=&quot; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;pncp-task-request&gt; [ &quot;to&quot; &lt;expression&gt; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;pncp-body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;pncp-task-request&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;identifier&gt;/&lt;identifier&gt; [ &quot;~&quot; &lt;version-spec&gt; ] &lt;call-bindings&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;ask&quot; &lt;identifier&gt; &lt;call-bindings&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;pncp-body&gt; := &quot;in&quot; &lt;statement-block&gt; | &quot;;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="skill-requests">Skill Requests<a href="#skill-requests" class="hash-link" aria-label="Direct link to Skill Requests" title="Direct link to Skill Requests">​</a></h3>
<p>The following is an example of a PNCP skill request task:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">task !SendMessage($message, $actor) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pncp messaging/send($message) to $actor;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This task delegates <code>!SendMessage</code> goals to the Paranet. When the planner matches a goal to this task, the corresponding skill request will be made to the Paranet. The goal will be considered complete once the skill request response is received.</p>
<p>Here’s an example of a skill request that has a response.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">task !FetchDeviceStatus($device_id) is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let { $status } = pncp devices/get_status($device_id) in {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  update devices(id == $device_id, $status);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This example shows how to consume a response from a delegated task. The skill returns a status value for a given device. The left-hand side of the <code>let</code> statement describes the expected response data. When the response is received, a <code>$status</code> variable will be assigned the value from the response and the <code>in</code> statement body will be executed. In this example, the <code>update</code> statement is used to write the response to a database table.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="procedures-and-functions">Procedures and Functions<a href="#procedures-and-functions" class="hash-link" aria-label="Direct link to Procedures and Functions" title="Direct link to Procedures and Functions">​</a></h2>
<p>Procedures and functions may be defined in order to reuse code in multiple events, rules, or tasks. Parameters are defined with types in the same way as event parameters.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;function&gt; :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;procedure&quot; &lt;identifier&gt; &lt;parameter-list&gt; &lt;statement-block&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;function&quot; &lt;identifier&gt; &lt;parameter-list&gt; &lt;statement-block&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;pure&quot; &quot;function&quot; &lt;identifier&gt; &lt;parameter-list&gt; &lt;statement-block&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A procedure must not return a value. Functions and pure functions must return a value. Pure functions must not access any external data, i.e., the return value from a pure function for a given set of input values is always the same.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/your-org/your-project/edit/main/paranet/paraflow/top_level.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/paranet/paraflow/language-basics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Language Basics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/paranet/paraflow/variables"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Variables</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a></li><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a><ul><li><a href="#table-parameters" class="table-of-contents__link toc-highlight">Table Parameters</a></li></ul></li><li><a href="#event-body" class="table-of-contents__link toc-highlight">Event Body</a></li><li><a href="#skill-decorators" class="table-of-contents__link toc-highlight">Skill Decorators</a></li><li><a href="#rules" class="table-of-contents__link toc-highlight">Rules</a><ul><li><a href="#goal-pattern" class="table-of-contents__link toc-highlight">Goal Pattern</a></li><li><a href="#rule-body" class="table-of-contents__link toc-highlight">Rule Body</a></li></ul></li><li><a href="#paraflow-tasks" class="table-of-contents__link toc-highlight">Paraflow Tasks</a></li><li><a href="#service-apis" class="table-of-contents__link toc-highlight">Service APIs</a></li><li><a href="#pncp-task" class="table-of-contents__link toc-highlight">PNCP Task</a><ul><li><a href="#skill-requests" class="table-of-contents__link toc-highlight">Skill Requests</a></li></ul></li><li><a href="#procedures-and-functions" class="table-of-contents__link toc-highlight">Procedures and Functions</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>